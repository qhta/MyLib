<UserControl x:Class="Qhta.UnicodeBuild.Views.UcdRangesView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:helpers="clr-namespace:Qhta.UnicodeBuild.Helpers"
             xmlns:sf="http://schemas.syncfusion.com/wpf"
             xmlns:resources="clr-namespace:Qhta.UnicodeBuild.Resources"
             xmlns:viewModels="clr-namespace:Qhta.UnicodeBuild.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
  <Grid>
    <!--<Grid.RowDefinitions>
      <RowDefinition Height="*"/>
      <RowDefinition Height="20"/>
    </Grid.RowDefinitions>-->
    <sf:SfDataGrid x:Name="UcdRangeDataGrid" 
                   DataContext ="{StaticResource ViewModels}"
                   ItemsSource ="{Binding Instance.UcdRanges}"
                   AllowDraggingColumns="True"
                   AllowEditing="True"
                   AllowFiltering="True"
                   AllowResizingColumns="True"
                   ColumnSizer="Auto"
                   HeaderRowHeight="26"
                   QueryRowHeight="DataGrid_OnQueryRowHeight"
                   AutoGenerateColumns="False"
                   GridValidationMode="InEdit"
                   CurrentCellValidating="DataGrid_CurrentCellValidating"
                   EditTrigger="OnTap"
    >
      <sf:SfDataGrid.Columns>
        <sf:GridTemplateColumn 
          MappingName="Range"
          HeaderText="Range" 
          VerticalAlignment="Top"
          GridValidationMode="InEdit"
          CellTemplate="{StaticResource RangeCellTemplate}"
          EditTemplate="{StaticResource RangeEditTemplate}"
          >
          <sf:GridColumn.HeaderTemplate>
            <DataTemplate>
              <TextBlock Text="{x:Static resources:UcdRange.Range}" 
                         ToolTip="{x:Static resources:UcdRange.RangeTooltip}"  />
            </DataTemplate>
          </sf:GridColumn.HeaderTemplate>
        </sf:GridTemplateColumn>

        <sf:GridTextColumn 
          MappingName="RangeName" 
          HeaderText="RangeName" 
          VerticalAlignment="Top"
          Width="300"
          >
          <sf:GridColumn.HeaderTemplate>
            <DataTemplate>
              <TextBlock Text="{x:Static resources:UcdRange.Name}" 
                         ToolTip="{x:Static resources:UcdRange.NameTooltip}"  />
            </DataTemplate>
          </sf:GridColumn.HeaderTemplate>
        </sf:GridTextColumn>

        <sf:GridTemplateColumn 
          MappingName="UcdBlock" 
          HeaderText="UcdBlock" 
          VerticalAlignment="Top"
          AllowEditing="False"
          Width="300"
        >
          <sf:GridColumn.HeaderTemplate>
            <DataTemplate>
              <TextBlock Text="{x:Static resources:UcdRange.UcdBlock}" 
                         ToolTip="{x:Static resources:UcdRange.UcdBlockTooltip}"  />
            </DataTemplate>
          </sf:GridColumn.HeaderTemplate>
          <sf:GridColumn.CellTemplate>
            <DataTemplate DataType="{x:Type viewModels:UcdCodePointViewModel}">
              <TextBlock Text="{Binding UcdBlock.BlockName}" 
                         ToolTip="{Binding UcdBlock.Comment}" 
                         Padding="3"/>
            </DataTemplate>
          </sf:GridColumn.CellTemplate>

        </sf:GridTemplateColumn>

        <sf:GridComboBoxColumn
          MappingName="WritingSystem"
          HeaderText="WritingSystem" 
          DisplayMemberPath="Name"
          SortMode="Display"
          ItemsSource="{Binding Source={StaticResource ViewModels}, 
          Path=Instance.SelectableWritingSystems}"
          VerticalAlignment="Top"
          Width="300"
          >
          <sf:GridColumn.HeaderTemplate>
            <DataTemplate>
              <TextBlock Text="{x:Static resources:UcdRange.WritingSystem}" 
                         ToolTip="{x:Static resources:UcdRange.WritingSystemTooltip}"  />
            </DataTemplate>
          </sf:GridColumn.HeaderTemplate>
        </sf:GridComboBoxColumn>

        <helpers:LongTextColumn 
          MappingName="Comment" 
          HeaderText="Comment"
          Width="420"
          TextWrapping="Wrap"
          VerticalAlignment="Top"
          CellTemplate="{StaticResource LongTextCellTemplate}"/>

      </sf:SfDataGrid.Columns>
    </sf:SfDataGrid>

  </Grid>
</UserControl>