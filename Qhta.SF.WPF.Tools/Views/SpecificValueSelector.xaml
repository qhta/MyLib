<UserControl x:Class="Qhta.SF.WPF.Tools.Views.SpecificValueSelector"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:tools="clr-namespace:Qhta.SF.WPF.Tools"
             xmlns:views="clr-namespace:Qhta.SF.WPF.Tools.Views"
             xmlns:resources="clr-namespace:Qhta.SF.WPF.Tools.Resources"
             xmlns:Syncfusion="http://schemas.syncfusion.com/wpf"
             xmlns:converters="clr-namespace:Qhta.WPF.Converters;assembly=Qhta.WPF.Converters"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">
  <UserControl.Resources>
    <tools:SelectableItemValueConverter x:Key="SelectableValueConverter" />
    <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
  </UserControl.Resources>
  <Grid x:Name="SelectionEditGrid">
    <Grid.RowDefinitions>
      <RowDefinition Height="*"></RowDefinition>
      <RowDefinition Height="Auto"></RowDefinition>
      <RowDefinition Height="*"></RowDefinition>
    </Grid.RowDefinitions>
    <ListBox 
      x:Name="ValueList"
      ItemsSource="{Binding RelativeSource={RelativeSource AncestorType={x:Type views:SpecificValueWindow}},
                                 Path= ItemsSource}"
      SelectedItem="{Binding RelativeSource={RelativeSource AncestorType={x:Type views:SpecificValueWindow}},
                                 Path= SelectedItem, Mode=TwoWay}"        
      Margin="10,5"
    >
      <ListBox.ItemTemplate>
        <DataTemplate >
          <TextBlock Text="{Binding Converter={StaticResource SelectableValueConverter}}" />
        </DataTemplate>
      </ListBox.ItemTemplate>
    </ListBox>
    <GridSplitter Grid.Row="1"
                  Height="5"
                  VerticalAlignment="Top"/>
    <CheckBox Grid.Row="1" 
              x:Name="ReplaceCheckBox"
              Margin="10,5"
              IsChecked="{Binding RelativeSource={RelativeSource AncestorType={x:Type views:SpecificValueWindow}},
        Path= Replace, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
              Content="{x:Static resources:Strings.ReplaceWith}"/>
    <ListBox
      Grid.Row="2" 
      x:Name="ReplacementList"
      ItemsSource="{Binding RelativeSource={RelativeSource AncestorType={x:Type views:SpecificValueWindow}},
                                 Path= ReplacementSource}"
      SelectedItem="{Binding RelativeSource={RelativeSource AncestorType={x:Type views:SpecificValueWindow}},
                                 Path= ReplacementItem, Mode=TwoWay}"        
      Margin="10,5"
      Visibility="{Binding RelativeSource={RelativeSource AncestorType={x:Type views:SpecificValueWindow}},
                                 Path= Replace,
                           Converter={StaticResource BoolToVisibilityConverter}}"
    >
      <ListBox.ItemTemplate>
        <DataTemplate >
          <TextBlock Text="{Binding Converter={StaticResource SelectableValueConverter}}" />
        </DataTemplate>
      </ListBox.ItemTemplate>
    </ListBox>

  </Grid>
</UserControl>
